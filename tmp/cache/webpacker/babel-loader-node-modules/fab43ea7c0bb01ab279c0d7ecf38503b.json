{"ast":null,"code":"require('./jquery.dataTables.min');\n\nrequire('./dataTables.bootstrap4.min');\n\n$(document).ready(function () {\n  //update the html content before reload\n  $('#uTableCard').html('<div class=\"table-responsive\"><table id=\"user_table\" class=\"table table-bordered table-sm\" width=\"100%\" cellspacing=\"0\"></table></div>');\n  var uListingTable = $('#user_table').DataTable({\n    ajax: 'api/get_user_listing',\n    columns: [{\n      title: 'First Name',\n      data: 'first_name'\n    }, {\n      title: 'Last Name',\n      data: 'last_name'\n    }, {\n      title: 'Email',\n      data: 'email'\n    }, {\n      title: 'Admin',\n      data: 'is_admin'\n    }, {\n      title: 'Verified',\n      data: 'is_verified'\n    }, {\n      title: 'Department',\n      data: 'department'\n    }, {\n      title: 'Semester',\n      data: 'semester'\n    }, {\n      title: 'Created At',\n      data: 'created_at'\n    }, {\n      title: 'Updated At',\n      data: 'updated_at'\n    }, {\n      title: 'Actions'\n    }],\n    serverSide: true,\n    processing: true,\n    // scrollX: true,\n    bAutoWidth: false,\n    bDestroy: true,\n    language: {\n      loadingRecords: '&nbsp;',\n      processing: 'Loading...',\n      emptyTable: 'No data available' // lengthMenu: \"_MENU_\", //show only drop down for records per page\n      // search: \"_INPUT_\",\n      // searchPlaceholder: \"Search...\"\n\n    },\n    columnDefs: [{\n      searchable: false,\n      targets: [3, 4, 7, 8, 9, -1]\n    }, {\n      targets: [7, 8],\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        if (cellData) {\n          $(td).addClass(\"time_string\");\n        }\n      }\n    }, {\n      targets: [3, 4],\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        $(td).css('text-align', 'center');\n\n        if (cellData == true) {\n          $(td).html('<i class=\"fas fa-check-circle\" style=\"color: green\"></i>');\n        } else {\n          $(td).html('<i class=\"fas fa-times-circle\" style=\"color: red\"></i>');\n        }\n      }\n    }, {\n      targets: [-1],\n      data: null,\n      orderable: false,\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        if (rowData.is_verified == true) {\n          $(td).html('<button id=\"userDisable\" class=\"btn btn-sm btn-outline-dark\"><i class=\"fas fa-times\" style=\"color: red\"></i>&nbsp;Disable</button>');\n          $(td).children('#userDisable').attr('id', 'userDisable' + rowData.id);\n          $(td).children('#userDisable' + rowData.id).attr(\"onclick\", \"userAction('disable',\".concat(rowData.id, \")\"));\n        } else {\n          $(td).html('<button id=\"userEnable\" class=\"btn btn-sm btn-outline-dark\"><i class=\"fas fa-check\" style=\"color: green\"></i>&nbsp;Enable</button>');\n          $(td).children('#userEnable').attr('id', 'userEnable' + rowData.id);\n          $(td).children('#userEnable' + rowData.id).attr(\"onclick\", \"userAction('enable',\".concat(rowData.id, \")\"));\n        }\n      }\n    }]\n  });\n  uListingTable.on('draw', function () {\n    $('.time_string').each(function () {\n      this.textContent = moment(this.textContent).format('DD-MM-YYYY hh:mm A');\n    });\n  });\n});\n\nwindow.userAction = function (act, uId) {\n  var action = act == 'enable' ? 'Enable' : 'Disable';\n  var dec = confirm(\"\".concat(action, \" user?\"));\n\n  if (dec) {\n    $(\"#user_table :button\").attr(\"disabled\", \"true\");\n    $.ajaxSetup({\n      headers: {\n        'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n      }\n    });\n    $.ajax({\n      type: \"POST\",\n      cache: false,\n      url: 'api/update_user',\n      data: {\n        'act': act,\n        'uId': uId\n      }\n    }).done(function (result) {\n      $('#user_table').DataTable().ajax.reload();\n    }).fail(function (xhr, result, status) {\n      alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n      $(\"#user_table :button\").removeAttr(\"disabled\");\n    });\n  }\n};","map":{"version":3,"sources":["E:/minor project/app/javascript/packs/list_users.js"],"names":["require","$","document","ready","html","uListingTable","DataTable","ajax","columns","title","data","serverSide","processing","bAutoWidth","bDestroy","language","loadingRecords","emptyTable","columnDefs","searchable","targets","createdCell","td","cellData","rowData","row","col","addClass","css","orderable","is_verified","children","attr","id","on","each","textContent","moment","format","window","userAction","act","uId","action","dec","confirm","ajaxSetup","headers","type","cache","url","done","result","reload","fail","xhr","status","alert","statusText","responseText","removeAttr"],"mappings":"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","sourcesContent":["require('./jquery.dataTables.min')\nrequire('./dataTables.bootstrap4.min')\n$(document).ready(function() {\n    //update the html content before reload\n    $('#uTableCard').html('<div class=\"table-responsive\"><table id=\"user_table\" class=\"table table-bordered table-sm\" width=\"100%\" cellspacing=\"0\"></table></div>');\n    var uListingTable = $('#user_table').DataTable({\n        ajax: 'api/get_user_listing',\n        columns: [\n            {title: 'First Name', data: 'first_name'},\n            {title: 'Last Name', data: 'last_name'},\n            {title: 'Email', data: 'email'},\n            {title: 'Admin', data: 'is_admin'},\n            {title: 'Verified', data: 'is_verified'},\n            {title: 'Department', data: 'department'},\n            {title: 'Semester', data: 'semester'},\n            {title: 'Created At', data: 'created_at'},\n            {title: 'Updated At', data: 'updated_at'},\n            {title: 'Actions'}\n        ],\n        serverSide: true,\n        processing: true,\n        // scrollX: true,\n        bAutoWidth: false,\n        bDestroy: true,\n        language: {\n            loadingRecords: '&nbsp;',\n            processing: 'Loading...',\n            emptyTable: 'No data available',\n            // lengthMenu: \"_MENU_\", //show only drop down for records per page\n            // search: \"_INPUT_\",\n            // searchPlaceholder: \"Search...\"\n        },\n        columnDefs: [\n            { searchable: false, targets: [3,4,7,8,9,-1] },\n            {\n                targets: [7,8],\n                createdCell: function (td, cellData, rowData, row, col) {\n                    if (cellData) {\n                        $(td).addClass(\"time_string\");\n                    }\n                }\n            },\n            {\n                targets: [3,4],\n                createdCell: function (td,cellData,rowData,row,col) {\n                    $(td).css('text-align','center');\n                    if(cellData == true){\n                        $(td).html('<i class=\"fas fa-check-circle\" style=\"color: green\"></i>');\n                    } else {\n                        $(td).html('<i class=\"fas fa-times-circle\" style=\"color: red\"></i>');\n                    }\n                }\n            },\n            {\n                targets: [-1],\n                data: null,\n                orderable: false,\n                createdCell: function (td, cellData, rowData, row, col) {\n                    if(rowData.is_verified == true) {\n                        $(td).html('<button id=\"userDisable\" class=\"btn btn-sm btn-outline-dark\"><i class=\"fas fa-times\" style=\"color: red\"></i>&nbsp;Disable</button>');\n                        $(td).children('#userDisable').attr('id','userDisable' + rowData.id);\n                        $(td).children('#userDisable' + rowData.id).attr(\"onclick\",`userAction('disable',${rowData.id})`);\n                    } else {\n                        $(td).html('<button id=\"userEnable\" class=\"btn btn-sm btn-outline-dark\"><i class=\"fas fa-check\" style=\"color: green\"></i>&nbsp;Enable</button>');\n                        $(td).children('#userEnable').attr('id','userEnable' + rowData.id);\n                        $(td).children('#userEnable' + rowData.id).attr(\"onclick\",`userAction('enable',${rowData.id})`);\n                    }\n                }\n            }\n        ]\n    });\n    uListingTable.on('draw', function () {\n        $('.time_string').each(function() {\n            this.textContent = moment(this.textContent).format('DD-MM-YYYY hh:mm A');\n        });\n    });\n});\n\nwindow.userAction = function(act,uId) {\n    var action = act == 'enable' ? 'Enable' : 'Disable';\n    var dec = confirm(`${action} user?`);\n    if (dec) {\n        $(\"#user_table :button\").attr(\"disabled\", \"true\");\n        $.ajaxSetup({\n            headers: { 'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content') }\n        });\n        $.ajax({\n            type: \"POST\",\n            cache: false,\n            url: 'api/update_user',\n            data: {\n                'act': act,\n                'uId': uId\n            }\n        }).done(function (result) {\n            $('#user_table').DataTable().ajax.reload();\n        }).fail(function (xhr, result, status) {\n            alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n            $(\"#user_table :button\").removeAttr(\"disabled\");\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}