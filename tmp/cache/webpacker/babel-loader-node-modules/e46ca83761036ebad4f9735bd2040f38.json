{"ast":null,"code":"require('./jquery.dataTables.min');\n\nrequire('./dataTables.bootstrap4.min');\n\n$(document).ready(function () {\n  //update the html content before reload\n  $('#uTableCard').html('<div class=\"table-responsive\"><table id=\"notice_table\" class=\"table table-bordered table-sm\" width=\"100%\" cellspacing=\"0\"></table></div>');\n  var nListingTable = $('#notice_table').DataTable({\n    ajax: 'api/get_notice_listing',\n    columns: [{\n      title: 'Content',\n      data: 'content'\n    }, {\n      title: 'Published',\n      data: 'published'\n    }, {\n      title: 'Published At',\n      data: 'published_at'\n    }, {\n      title: 'Public',\n      data: 'is_public'\n    }, {\n      title: 'Created At',\n      data: 'created_at'\n    }, {\n      title: 'Updated At',\n      data: 'updated_at'\n    }, {\n      title: 'Actions'\n    }],\n    serverSide: true,\n    processing: true,\n    // scrollX: true,\n    bAutoWidth: false,\n    bDestroy: true,\n    language: {\n      loadingRecords: '&nbsp;',\n      processing: 'Loading...',\n      emptyTable: 'No data available' // lengthMenu: \"_MENU_\", //show only drop down for records per page\n      // search: \"_INPUT_\",\n      // searchPlaceholder: \"Search...\"\n\n    },\n    columnDefs: [{\n      targets: [0],\n      mRender: function mRender(data, type, full) {\n        return $(\"<div/>\").html(data).text();\n      }\n    }, {\n      searchable: false,\n      targets: [1, 2, 3, 4, 5, -1]\n    }, {\n      targets: [0],\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        if (cellData) {\n          $(td).addClass(\"notice_content\");\n        }\n      }\n    }, {\n      targets: [2, 4, 5],\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        if (cellData) {\n          $(td).addClass(\"time_string\");\n        }\n      }\n    }, {\n      targets: [1, 3],\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        $(td).css('text-align', 'center');\n\n        if (cellData == true) {\n          $(td).html('<i class=\"fas fa-check-circle\" style=\"color: green\"></i>');\n        } else {\n          $(td).html('<i class=\"fas fa-times-circle\" style=\"color: red\"></i>');\n        }\n      }\n    }, {\n      targets: [-1],\n      data: null,\n      orderable: false,\n      createdCell: function createdCell(td, cellData, rowData, row, col) {\n        $(td).css('text-align', 'center');\n        var htmlC = '<a id=\"noticeEdit\" class=\"btn btn-sm btn-outline-dark\" title=\"Edit\"><i class=\"fas fa-edit\" style=\"color: green\"></i></a>';\n        htmlC += \"&nbsp;<button id=\\\"noticeDelete\\\" class=\\\"btn btn-sm btn-outline-dark\\\" title=\\\"Delete\\\" onclick=\\\"deleteUser(\".concat(rowData.id, \")\\\"><i class=\\\"fas fa-trash\\\" style=\\\"color: red\\\"></i></button>\");\n        $(td).html(htmlC);\n        $(td).children('#noticeEdit').attr('id', 'noticeEdit' + rowData.id);\n        $(td).children('#noticeEdit' + rowData.id).attr(\"href\", \"/admin/notice/\".concat(rowData.id));\n      }\n    }]\n  });\n  nListingTable.on('draw', function () {\n    $('.time_string').each(function () {\n      this.textContent = moment(this.textContent).format('DD-MM-YYYY hh:mm A');\n    });\n  });\n});\n\nwindow.deleteUser = function (nId) {\n  var dec = confirm(\"Are you sure to delete the record?\");\n\n  if (dec) {\n    $(\"#notice_table :button\").attr(\"disabled\", \"true\");\n    $.ajaxSetup({\n      headers: {\n        'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n      }\n    });\n    $.ajax({\n      type: \"DELETE\",\n      cache: false,\n      url: \"api/notice/\".concat(nId)\n    }).done(function (result) {\n      $('#notice_table').DataTable().ajax.reload();\n    }).fail(function (xhr, result, status) {\n      alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n      $(\"#notice_table :button\").removeAttr(\"disabled\");\n    });\n  }\n};","map":{"version":3,"sources":["E:/minor project/app/javascript/packs/list_notices.js"],"names":["require","$","document","ready","html","nListingTable","DataTable","ajax","columns","title","data","serverSide","processing","bAutoWidth","bDestroy","language","loadingRecords","emptyTable","columnDefs","targets","mRender","type","full","text","searchable","createdCell","td","cellData","rowData","row","col","addClass","css","orderable","htmlC","id","children","attr","on","each","textContent","moment","format","window","deleteUser","nId","dec","confirm","ajaxSetup","headers","cache","url","done","result","reload","fail","xhr","status","alert","statusText","responseText","removeAttr"],"mappings":"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","sourcesContent":["require('./jquery.dataTables.min')\nrequire('./dataTables.bootstrap4.min')\n$(document).ready(function() {\n    //update the html content before reload\n    $('#uTableCard').html('<div class=\"table-responsive\"><table id=\"notice_table\" class=\"table table-bordered table-sm\" width=\"100%\" cellspacing=\"0\"></table></div>');\n    var nListingTable = $('#notice_table').DataTable({\n        ajax: 'api/get_notice_listing',\n        columns: [\n            {title: 'Content', data: 'content'},\n            {title: 'Published', data: 'published'},\n            {title: 'Published At', data: 'published_at'},\n            {title: 'Public', data: 'is_public'},\n            {title: 'Created At', data: 'created_at'},\n            {title: 'Updated At', data: 'updated_at'},\n            {title: 'Actions'}\n        ],\n        serverSide: true,\n        processing: true,\n        // scrollX: true,\n        bAutoWidth: false,\n        bDestroy: true,\n        language: {\n            loadingRecords: '&nbsp;',\n            processing: 'Loading...',\n            emptyTable: 'No data available',\n            // lengthMenu: \"_MENU_\", //show only drop down for records per page\n            // search: \"_INPUT_\",\n            // searchPlaceholder: \"Search...\"\n        },\n        columnDefs: [\n            {\n                targets: [0],\n                mRender: function ( data, type, full ) {\n                    return $(\"<div/>\").html(data).text();\n                }\n            },\n            { searchable: false, targets: [1,2,3,4,5,-1] },\n            {\n                targets: [0],\n                createdCell: function (td, cellData, rowData, row, col) {\n                    if (cellData) {\n                        $(td).addClass(\"notice_content\");\n                    }\n                }\n            },\n            {\n                targets: [2,4,5],\n                createdCell: function (td, cellData, rowData, row, col) {\n                    if (cellData) {\n                        $(td).addClass(\"time_string\");\n                    }\n                }\n            },\n            {\n                targets: [1,3],\n                createdCell: function (td,cellData,rowData,row,col) {\n                    $(td).css('text-align','center');\n                    if(cellData == true){\n                        $(td).html('<i class=\"fas fa-check-circle\" style=\"color: green\"></i>');\n                    } else {\n                        $(td).html('<i class=\"fas fa-times-circle\" style=\"color: red\"></i>');\n                    }\n                }\n            },\n            {\n                targets: [-1],\n                data: null,\n                orderable: false,\n                createdCell: function (td, cellData, rowData, row, col) {\n                    $(td).css('text-align','center');\n                    var htmlC = '<a id=\"noticeEdit\" class=\"btn btn-sm btn-outline-dark\" title=\"Edit\"><i class=\"fas fa-edit\" style=\"color: green\"></i></a>';\n                    htmlC += `&nbsp;<button id=\"noticeDelete\" class=\"btn btn-sm btn-outline-dark\" title=\"Delete\" onclick=\"deleteUser(${rowData.id})\"><i class=\"fas fa-trash\" style=\"color: red\"></i></button>`;\n                    $(td).html(htmlC);\n                    $(td).children('#noticeEdit').attr('id','noticeEdit' + rowData.id);\n                    $(td).children('#noticeEdit' + rowData.id).attr(\"href\",`/admin/notice/${rowData.id}`);\n                }\n            }\n        ]\n    });\n    nListingTable.on('draw', function () {\n        $('.time_string').each(function() {\n            this.textContent = moment(this.textContent).format('DD-MM-YYYY hh:mm A');\n        });\n    });\n});\n\nwindow.deleteUser = function(nId) {\n    var dec = confirm(`Are you sure to delete the record?`);\n    if (dec) {\n        $(\"#notice_table :button\").attr(\"disabled\", \"true\");\n        $.ajaxSetup({\n            headers: { 'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content') }\n        });\n        $.ajax({\n            type: \"DELETE\",\n            cache: false,\n            url: `api/notice/${nId}`\n        }).done(function (result) {\n            $('#notice_table').DataTable().ajax.reload();\n        }).fail(function (xhr, result, status) {\n            alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n            $(\"#notice_table :button\").removeAttr(\"disabled\");\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}