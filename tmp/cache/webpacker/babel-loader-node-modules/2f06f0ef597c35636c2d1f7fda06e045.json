{"ast":null,"code":"window.noticeAction = function (action, notice_id) {\n  if (action == 'comment') {\n    window.cHtml = $(\"#notice_comments_\" + notice_id).html();\n    $(\"#notice_comments_\" + notice_id).html(\"<div class=\\\"spinner-border spinner-border-sm\\\" role=\\\"status\\\"><span class=\\\"sr-only\\\">Loading...</span></div>\");\n    postComment(notice_id, cHtml);\n  } else {\n    var _cHtml = $(\"#notice_likes_\" + notice_id).html();\n\n    $(\"#notice_likes_\" + notice_id).html(\"<div class=\\\"spinner-border spinner-border-sm\\\" role=\\\"status\\\"><span class=\\\"sr-only\\\">Loading...</span></div>\");\n    $.ajaxSetup({\n      headers: {\n        'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n      }\n    });\n    $.ajax({\n      type: \"POST\",\n      cache: false,\n      url: \"api/notice/perform_action/\".concat(notice_id),\n      data: {\n        n_action: action\n      }\n    }).done(function (result) {\n      if (action == 'like') {\n        $(\"#notice_likes_\" + notice_id).html(\"<button type=\\\"button\\\" class=\\\"btn btn-outline btn-sm\\\" onclick=\\\"noticeAction('unlike',\".concat(notice_id, \")\\\"><i class=\\\"fas fa-heart\\\" style=\\\"color: red\\\"></i>&nbsp;&nbsp;\").concat(result.total_likes, \"</button>\"));\n      }\n\n      if (action == 'unlike') {\n        $(\"#notice_likes_\" + notice_id).html(\"<button type=\\\"button\\\" class=\\\"btn btn-outline btn-sm\\\" onclick=\\\"noticeAction('like',\".concat(notice_id, \")\\\"><i class=\\\"far fa-heart\\\" style=\\\"color: red\\\"></i>&nbsp;&nbsp;\").concat(result.total_likes, \"</button>\"));\n      }\n\n      $('#liked_records').html(\"<i class=\\\"fas fa-heart\\\" style=\\\"color: coral\\\"></i>&nbsp;&nbsp;<a href=\\\"/?filter=liked\\\">Liked Records</a> - \".concat(result.liked_records));\n    }).fail(function (xhr, result, status) {\n      alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n      $(\"#notice_likes_\" + notice_id).html(_cHtml);\n    });\n  }\n};\n\nfunction postComment(notice_id, cHtml) {\n  $('#commentCloseBtn').attr(\"onclick\", \"commentAction('close',\".concat(notice_id, \")\"));\n  $('#commentCloseBtn1').attr(\"onclick\", \"commentAction('close',\".concat(notice_id, \")\"));\n  $('#commentInput').val('');\n  $('#commentPostButton').attr(\"onclick\", \"commentAction('post',\".concat(notice_id, \")\"));\n  $('#addCommentBody').html();\n  window.$('#addComment').modal();\n}\n\nwindow.commentAction = function (action, notice_id) {\n  if (action == 'close') {\n    $(\"#notice_comments_\" + notice_id).html(window.cHtml);\n  } else {\n    var cmnt = $('#commentInput').val();\n\n    if (cmnt != '') {\n      window.$('#addComment').modal('hide');\n      $.ajaxSetup({\n        headers: {\n          'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n      });\n      $.ajax({\n        type: \"POST\",\n        cache: false,\n        url: \"api/notice/perform_action/\".concat(notice_id),\n        data: {\n          n_action: 'comment_create',\n          comment_text: cmnt\n        }\n      }).done(function (result) {\n        $(\"#notice_comments_\" + notice_id).html(\"<button type=\\\"button\\\" class=\\\"btn btn-outline btn-sm\\\" onclick=\\\"noticeAction('comment',\".concat(notice_id, \")\\\"><i class=\\\"fas fa-comment\\\" style=\\\"color: purple\\\"></i>&nbsp;&nbsp;\").concat(result.total_comments, \"</button>\"));\n        $(\"#commented_records\").html(\"<i class=\\\"fas fa-comment\\\" style=\\\"color: purple\\\"></i>&nbsp;&nbsp;<a href=\\\"/?filter=commented\\\">Commented Records</a> - \".concat(result.commented_notices));\n      }).fail(function (xhr, result, status) {\n        alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n        $(\"#notice_comments_\" + notice_id).html(window.cHtml);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["E:/minor project/app/javascript/packs/home_actions.js"],"names":["window","noticeAction","action","notice_id","cHtml","$","html","postComment","ajaxSetup","headers","attr","ajax","type","cache","url","data","n_action","done","result","total_likes","liked_records","fail","xhr","status","alert","statusText","responseText","val","modal","commentAction","cmnt","comment_text","total_comments","commented_notices"],"mappings":"AAAAA,MAAM,CAACC,YAAP,GAAsB,UAAUC,MAAV,EAAiBC,SAAjB,EAA4B;AAC9C,MAAGD,MAAM,IAAI,SAAb,EAAuB;AACnBF,IAAAA,MAAM,CAACI,KAAP,GAAeC,CAAC,CAAC,sBAAsBF,SAAvB,CAAD,CAAmCG,IAAnC,EAAf;AACAD,IAAAA,CAAC,CAAC,sBAAsBF,SAAvB,CAAD,CAAmCG,IAAnC;AACAC,IAAAA,WAAW,CAACJ,SAAD,EAAWC,KAAX,CAAX;AACH,GAJD,MAIO;AACH,QAAMA,MAAK,GAAGC,CAAC,CAAC,mBAAmBF,SAApB,CAAD,CAAgCG,IAAhC,EAAd;;AACAD,IAAAA,CAAC,CAAC,mBAAmBF,SAApB,CAAD,CAAgCG,IAAhC;AACAD,IAAAA,CAAC,CAACG,SAAF,CAAY;AACRC,MAAAA,OAAO,EAAE;AAAE,wBAAgBJ,CAAC,CAAC,yBAAD,CAAD,CAA6BK,IAA7B,CAAkC,SAAlC;AAAlB;AADD,KAAZ;AAGAL,IAAAA,CAAC,CAACM,IAAF,CAAO;AACHC,MAAAA,IAAI,EAAE,MADH;AAEHC,MAAAA,KAAK,EAAE,KAFJ;AAGHC,MAAAA,GAAG,sCAA+BX,SAA/B,CAHA;AAIHY,MAAAA,IAAI,EAAE;AACFC,QAAAA,QAAQ,EAAEd;AADR;AAJH,KAAP,EAOGe,IAPH,CAOQ,UAAUC,MAAV,EAAkB;AACtB,UAAGhB,MAAM,IAAI,MAAb,EAAoB;AAChBG,QAAAA,CAAC,CAAC,mBAAmBF,SAApB,CAAD,CAAgCG,IAAhC,oGAA4HH,SAA5H,gFAAsMe,MAAM,CAACC,WAA7M;AACH;;AACD,UAAGjB,MAAM,IAAI,QAAb,EAAsB;AAClBG,QAAAA,CAAC,CAAC,mBAAmBF,SAApB,CAAD,CAAgCG,IAAhC,kGAA0HH,SAA1H,gFAAoMe,MAAM,CAACC,WAA3M;AACH;;AACDd,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBC,IAApB,2HAAsIY,MAAM,CAACE,aAA7I;AACH,KAfD,EAeGC,IAfH,CAeQ,UAAUC,GAAV,EAAeJ,MAAf,EAAuBK,MAAvB,EAA+B;AACnCC,MAAAA,KAAK,CAAC,oBAAoBF,GAAG,CAACG,UAAxB,GAAqC,GAArC,GAA2CH,GAAG,CAACI,YAA/C,GAA8D,GAA9D,GAAoEJ,GAAG,CAACC,MAAzE,CAAL;AACAlB,MAAAA,CAAC,CAAC,mBAAmBF,SAApB,CAAD,CAAgCG,IAAhC,CAAqCF,MAArC;AACH,KAlBD;AAmBH;AACJ,CA/BD;;AAiCA,SAASG,WAAT,CAAqBJ,SAArB,EAA+BC,KAA/B,EAAsC;AAClCC,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBK,IAAtB,CAA2B,SAA3B,kCAA8DP,SAA9D;AACAE,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBK,IAAvB,CAA4B,SAA5B,kCAA+DP,SAA/D;AACAE,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBsB,GAAnB,CAAuB,EAAvB;AACAtB,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBK,IAAxB,CAA6B,SAA7B,iCAA+DP,SAA/D;AACAE,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBC,IAArB;AACAN,EAAAA,MAAM,CAACK,CAAP,CAAS,aAAT,EAAwBuB,KAAxB;AACH;;AAED5B,MAAM,CAAC6B,aAAP,GAAuB,UAAU3B,MAAV,EAAiBC,SAAjB,EAA4B;AAC/C,MAAID,MAAM,IAAI,OAAd,EAAuB;AACnBG,IAAAA,CAAC,CAAC,sBAAsBF,SAAvB,CAAD,CAAmCG,IAAnC,CAAwCN,MAAM,CAACI,KAA/C;AACH,GAFD,MAEO;AACH,QAAI0B,IAAI,GAAGzB,CAAC,CAAC,eAAD,CAAD,CAAmBsB,GAAnB,EAAX;;AACA,QAAIG,IAAI,IAAI,EAAZ,EAAe;AACX9B,MAAAA,MAAM,CAACK,CAAP,CAAS,aAAT,EAAwBuB,KAAxB,CAA8B,MAA9B;AACAvB,MAAAA,CAAC,CAACG,SAAF,CAAY;AACRC,QAAAA,OAAO,EAAE;AAAE,0BAAgBJ,CAAC,CAAC,yBAAD,CAAD,CAA6BK,IAA7B,CAAkC,SAAlC;AAAlB;AADD,OAAZ;AAGAL,MAAAA,CAAC,CAACM,IAAF,CAAO;AACHC,QAAAA,IAAI,EAAE,MADH;AAEHC,QAAAA,KAAK,EAAE,KAFJ;AAGHC,QAAAA,GAAG,sCAA+BX,SAA/B,CAHA;AAIHY,QAAAA,IAAI,EAAE;AACFC,UAAAA,QAAQ,EAAE,gBADR;AAEFe,UAAAA,YAAY,EAAED;AAFZ;AAJH,OAAP,EAQGb,IARH,CAQQ,UAAUC,MAAV,EAAkB;AACtBb,QAAAA,CAAC,CAAC,sBAAsBF,SAAvB,CAAD,CAAmCG,IAAnC,qGAAgIH,SAAhI,qFAA+Me,MAAM,CAACc,cAAtN;AACA3B,QAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBC,IAAxB,sIAAqJY,MAAM,CAACe,iBAA5J;AACH,OAXD,EAWGZ,IAXH,CAWQ,UAAUC,GAAV,EAAeJ,MAAf,EAAuBK,MAAvB,EAA+B;AACnCC,QAAAA,KAAK,CAAC,oBAAoBF,GAAG,CAACG,UAAxB,GAAqC,GAArC,GAA2CH,GAAG,CAACI,YAA/C,GAA8D,GAA9D,GAAoEJ,GAAG,CAACC,MAAzE,CAAL;AACAlB,QAAAA,CAAC,CAAC,sBAAsBF,SAAvB,CAAD,CAAmCG,IAAnC,CAAwCN,MAAM,CAACI,KAA/C;AACH,OAdD;AAeH;AACJ;AACJ,CA3BD","sourcesContent":["window.noticeAction = function (action,notice_id) {\n    if(action == 'comment'){\n        window.cHtml = $(\"#notice_comments_\" + notice_id).html();\n        $(\"#notice_comments_\" + notice_id).html(`<div class=\"spinner-border spinner-border-sm\" role=\"status\"><span class=\"sr-only\">Loading...</span></div>`);\n        postComment(notice_id,cHtml);\n    } else {\n        const cHtml = $(\"#notice_likes_\" + notice_id).html();\n        $(\"#notice_likes_\" + notice_id).html(`<div class=\"spinner-border spinner-border-sm\" role=\"status\"><span class=\"sr-only\">Loading...</span></div>`);\n        $.ajaxSetup({\n            headers: { 'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content') }\n        });\n        $.ajax({\n            type: \"POST\",\n            cache: false,\n            url: `api/notice/perform_action/${notice_id}`,\n            data: {\n                n_action: action\n            }\n        }).done(function (result) {\n            if(action == 'like'){\n                $(\"#notice_likes_\" + notice_id).html(`<button type=\"button\" class=\"btn btn-outline btn-sm\" onclick=\"noticeAction('unlike',${notice_id})\"><i class=\"fas fa-heart\" style=\"color: red\"></i>&nbsp;&nbsp;${result.total_likes}</button>`);\n            }\n            if(action == 'unlike'){\n                $(\"#notice_likes_\" + notice_id).html(`<button type=\"button\" class=\"btn btn-outline btn-sm\" onclick=\"noticeAction('like',${notice_id})\"><i class=\"far fa-heart\" style=\"color: red\"></i>&nbsp;&nbsp;${result.total_likes}</button>`);\n            }\n            $('#liked_records').html(`<i class=\"fas fa-heart\" style=\"color: coral\"></i>&nbsp;&nbsp;<a href=\"/?filter=liked\">Liked Records</a> - ${result.liked_records}`);\n        }).fail(function (xhr, result, status) {\n            alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n            $(\"#notice_likes_\" + notice_id).html(cHtml);\n        });\n    }\n}\n\nfunction postComment(notice_id,cHtml) {\n    $('#commentCloseBtn').attr(\"onclick\",`commentAction('close',${notice_id})`);\n    $('#commentCloseBtn1').attr(\"onclick\",`commentAction('close',${notice_id})`);\n    $('#commentInput').val('');\n    $('#commentPostButton').attr(\"onclick\",`commentAction('post',${notice_id})`);\n    $('#addCommentBody').html();\n    window.$('#addComment').modal();\n}\n\nwindow.commentAction = function (action,notice_id) {\n    if (action == 'close') {\n        $(\"#notice_comments_\" + notice_id).html(window.cHtml);\n    } else {\n        var cmnt = $('#commentInput').val();\n        if (cmnt != ''){\n            window.$('#addComment').modal('hide');\n            $.ajaxSetup({\n                headers: { 'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content') }\n            });\n            $.ajax({\n                type: \"POST\",\n                cache: false,\n                url: `api/notice/perform_action/${notice_id}`,\n                data: {\n                    n_action: 'comment_create',\n                    comment_text: cmnt\n                }\n            }).done(function (result) {\n                $(\"#notice_comments_\" + notice_id).html(`<button type=\"button\" class=\"btn btn-outline btn-sm\" onclick=\"noticeAction('comment',${notice_id})\"><i class=\"fas fa-comment\" style=\"color: purple\"></i>&nbsp;&nbsp;${result.total_comments}</button>`);\n                $(\"#commented_records\").html(`<i class=\"fas fa-comment\" style=\"color: purple\"></i>&nbsp;&nbsp;<a href=\"/?filter=commented\">Commented Records</a> - ${result.commented_notices}`);\n            }).fail(function (xhr, result, status) {\n                alert('GetPermissions ' + xhr.statusText + ' ' + xhr.responseText + ' ' + xhr.status);\n                $(\"#notice_comments_\" + notice_id).html(window.cHtml);\n            });\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}